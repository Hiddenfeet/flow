(window.webpackJsonp=window.webpackJsonp||[]).push([[1,108],{1191:function(e,t,r){"use strict";r.r(t);var n=r(454),o=r(1162),c=r(1178),l=r(4),d=(r(49),r(47),r(52),r(13)),f=r(461),m=r(1202),v=r(1203),h=r(19),k={props:{image:{type:String,default:""},aspectRatio:{type:Number,default:.9},tokenId:{type:String,default:""},collectionAddress:{type:String,default:""},networkId:{type:Number,default:function(){return h.c.networkId}},imageClass:{type:String,default:""}},setup:function(e){var t=this,r=Object(d.toRefs)(e),image=r.image,n=r.collectionAddress,o=r.tokenId;return{nftImage:Object(f.computedAsync)(Object(l.a)(regeneratorRuntime.mark((function e(){var r,c,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r=Object(m.a)(n.value,o.value))){e.next=3;break}return e.abrupt("return",r);case 3:if(!image.value){e.next=5;break}return e.abrupt("return",image.value);case 5:if(n.value&&o.value){e.next=7;break}return e.abrupt("return","");case 7:return c=Object(v.a)(),l=c.loadNftImage,e.abrupt("return",l({collectionAddress:n.value,tokenId:o.value,networkId:t.networkId}));case 9:case"end":return e.stop()}}),e)}))),"")}},computed:{imgKey:function(){return this.nftImage||this.image||"".concat(this.tokenId,"-").concat(this.collectionAddress)}}},w=r(53),component=Object(w.a)(k,(function(){var e=this,t=e._self._c;return t(n.a,{key:e.imgKey,ref:"image",class:e.imageClass,attrs:{src:e.nftImage,"aspect-ratio":e.aspectRatio,alt:"image",id:"image",contain:""},scopedSlots:e._u([{key:"placeholder",fn:function(){return[t(o.a,{staticClass:"fill-height ma-0",attrs:{align:"center",justify:"center"}},[t(c.a,{staticClass:"rounded-lg",attrs:{type:"image",width:"300",height:"300"}})],1)]},proxy:!0}])})}),[],!1,null,null,null);t.default=component.exports},1192:function(e,t,r){e.exports=r.p+"img/no-image.78e66d1.webp"},1194:function(e,t,r){e.exports=r.p+"img/loading-img.5f15b62.gif"},1202:function(e,t,r){"use strict";r.d(t,"a",(function(){return o})),r.d(t,"b",(function(){return c}));r(15),r(98),r(54),r(105);var n={"0x50a6aa29b9e99c9b8b81069a12eefedac85919b7":"https://ipfs.io/ipfs/QmRNJCmQYdTioG5KcMsKGgDquEziY7J4iBwG6xnPWHFCjw/${tokenId}.gif","0x7d89dcc2f35403cfd9b07475826f9a14a340d06a":"https://ipfs.io/ipfs/QmbGRPPxXiWG7zANHqxtUUvQKtacztDkcZnbXPP3S2LieH/${tokenId}.gif","0x688c9c95a7ff91cf1559cdaf098b3038bc538be1":"https://ipfs.io/ipfs/QmbshMW3dJ4v8rQKtztoSJVoD8GUBmGy2d7WyvGghT9qGr/${tokenId}.gif"},o=function(e,t){e=e.toString().toLowerCase();var r=n[e];return r?r.replace("${tokenId}",t):null},c=function(e){return e=e.toString().toLowerCase(),!!n[e]}},1203:function(e,t,r){"use strict";r.d(t,"a",(function(){return v}));var n=r(4),o=(r(49),r(15),r(101),r(61),r(77),r(98),r(54),r(105),r(18)),c=r(214),l=r(80),d=r(14),f=r(19);function m(e){return new Promise((function(t){return setTimeout(t,e)}))}function v(){var e=function(){var e=Object(n.a)(regeneratorRuntime.mark((function e(){var t,r,n,l,m,v,h=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=(t=h.length>0&&void 0!==h[0]?h[0]:{}).networkId||d.a.getNetworkIdWithDefault(),n=Object(f.g)(r),l=new o.a.providers.JsonRpcProvider(n),m=new o.a.Contract(t.collectionAddress,c,l),e.next=7,m.tokenURI(t.tokenId);case 7:if(!(null!=(v=e.sent)&&v.length>0)){e.next=10;break}return e.abrupt("return",v);case 10:if(void 0!==v){e.next=15;break}return e.next=13,m.uri(t.tokenId);case 13:return v=e.sent,e.abrupt("return",v);case 15:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),t=function(){var t=Object(n.a)(regeneratorRuntime.mark((function t(){var r,n,o,c,d=arguments;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=d.length>0&&void 0!==d[0]?d[0]:{},t.prev=1,t.next=4,e(r);case 4:if(n=t.sent){t.next=7;break}return t.abrupt("return");case 7:if(!n.toString().includes("example.com")){t.next=9;break}return t.abrupt("return");case 9:if(!n.toString().includes("testnet")){t.next=11;break}return t.abrupt("return");case 11:if((o=n.replace("ipfs://","https://ipfs.io/ipfs/"))&&!o.toString().includes("example.com")){t.next=14;break}return t.abrupt("return");case 14:return t.prev=14,t.next=17,fetch(o);case 17:return t.next=19,t.sent.json();case 19:return c=t.sent,t.next=22,m(3e3);case 22:t.next=33;break;case 24:return t.prev=24,t.t0=t.catch(14),t.next=28,m(3e3);case 28:return t.next=30,fetch(o);case 30:return t.next=32,t.sent.json();case 32:c=t.sent;case 33:return t.abrupt("return",c);case 36:t.prev=36,t.t1=t.catch(1),l.c(t.t1);case 39:case"end":return t.stop()}}),t,null,[[1,36],[14,24]])})));return function(){return t.apply(this,arguments)}}(),r=function(){var e=Object(n.a)(regeneratorRuntime.mark((function e(){var r,n,o,c=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>0&&void 0!==c[0]?c[0]:{},e.next=3,t(r);case 3:if(!(n=e.sent)||!n.image){e.next=7;break}return o=n.image.replace("ipfs://","https://ipfs.io/ipfs/"),e.abrupt("return",o);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return{loadNftImage:r}}},1213:function(e,t,r){"use strict";r.r(t);var n=r(555),o=r(1147),c=r(1146),l=r(363),d=r(1173),f=r(1189),m=r(573),v=r(550),h=r(442),k=r(1162),w=r(1176),I=r(207),y=(r(64),r(15),r(98),r(270)),x=r(4),_=(r(49),r(47),r(460),r(1194)),P=r.n(_),j=r(581),F=r(1192),C=r.n(F),L=r(168),A=r(19),R={components:{ImageSlot:r(1191).default},props:{nft:{type:Object,required:!0},image:{type:String,required:!1},collectionAddress:{type:String,required:!1,default:""},networkId:{type:Number,default:function(){return A.d.networkId}},itemId:{type:Number,required:!1,default:null},collectionDetailsPage:{type:Boolean,required:!1,default:!1},collectionInfo:{type:Object,required:!1,default:null},textOnly:{type:Boolean,required:!1,default:!1}},setup:function(){var e=Object(j.a)();return{serviceFee:e.serviceFee,serviceFeeLoading:e.serviceFeeLoading,isCollectionApproved:e.isCollectionApproved,isCollectionApprovedLoading:e.isCollectionApprovedLoading,royaltyFee:e.royaltyFee,royaltyFeeLoading:e.royaltyFeeLoading,isListItemLoading:e.isListItemLoading,getFormattedPrice:L.d}},computed:{isDark:function(){return this.$vuetify.theme.dark},placeholder:function(){return P.a},noImagePlaceholder:function(){return C.a},collection:function(){return this.$store.getters["collection/collection"]},tokenName:function(){return Object(A.e)(this.networkId).token},floorPrice:function(){return this.collectionInfo&&this.collectionInfo.floorPrice>0?this.collectionInfo.floorPrice:this.collection&&this.collection.floorPrice>0?this.collection.floorPrice:0},priceAfterFees:function(){return(this.newPrice-this.newPrice*this.serviceFee/100-this.newPrice*this.royaltyFee/100).toFixed(2)},priceWithMoreThan2Decimals:function(){return this.newPrice%1!=0&&(this.newPrice.toString().split(".")[1].length>2||void 0)},roundedPrice:function(){return parseFloat(this.newPrice).toFixed(2)},isUpdateDisabled:function(){return!1},croPrice:function(){return this.$store.getters["cryptoPrices/croPrice"]},dollarValue:function(){return(this.croPrice*this.priceAfterFees).toFixed(2)},displayDollarValues:function(){return this.$store.getters["userNew/displayDollarValues"]}},data:function(){return{dialog:!1,newPrice:"",isUpdateItemLoading:!1}},methods:{openModal:function(){var e=this;return Object(x.a)(regeneratorRuntime.mark((function t(){var r,n,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=Object(j.a)(),n=r.getFees,t.next=3,e.getItemIdAboutListing();case 3:return o=t.sent,t.next=6,n({collectionAddress:e.collectionAddress,tokenId:e.nft.tokenId,marketId:o.marketId,networkId:e.networkId});case 6:if(e.collectionDetailsPage){t.next=9;break}return t.next=9,e.$store.dispatch("collection/getCollectionInfo",{slug:e.collectionAddress});case 9:case"end":return t.stop()}}),t)})))()},resetData:function(){var e=this;return Object(x.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.newPrice="",e.dialog=!1;case 2:case"end":return t.stop()}}),t)})))()},getItemIdAboutListing:function(){var e=this;return Object(x.a)(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$store.dispatch("listings/getListingLookup",{contractAddress:e.collectionAddress,tokenId:e.nft.tokenId,networkId:e.networkId});case 2:return r=t.sent,t.abrupt("return",r);case 4:case"end":return t.stop()}}),t)})))()},updateItem:function(){var e=this;return Object(x.a)(regeneratorRuntime.mark((function t(){var r,n,o,c;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getItemIdAboutListing();case 2:return r=t.sent,n=Object(j.a)(),o=n.updateItemPrice,e.isUpdateItemLoading=!0,c=e.newPrice,e.priceWithMoreThan2Decimals&&(parseFloat(e.newPrice).toFixed(2),Object(y.a)("formatedPrice")),t.next=9,o({itemId:r.itemId,price:c,marketId:r.marketId,networkId:e.networkId});case 9:e.isUpdateItemLoading=!1,e.dialog=!1,e.newPrice="",e.$emit("updateListingShouldRefresh");case 13:case"end":return t.stop()}}),t)})))()}}},D=r(53),component=Object(D.a)(R,(function(){var e,t,r,y,x,_,P=this,j=P._self._c;return j(m.a,{attrs:{width:"380"},scopedSlots:P._u([{key:"activator",fn:function(e){var t=e.on,r=e.attrs;return[j(o.a,P._g(P._b({class:P.collectionDetailsPage?"effect-button px-1":"px-0 w-100",attrs:{color:P.isDark?"#23f7dd":"#00a99d",dark:P.isDark,disabled:P.isUpdateDisabled,small:"",text:P.textOnly},on:{click:function(e){return P.openModal()}}},"v-btn",r,!1),t),[P._v("Update")])]}}]),model:{value:P.dialog,callback:function(e){P.dialog=e},expression:"dialog"}},[P._v(" "),j(c.a,{staticClass:"mx-auto no-background",attrs:{"max-width":"380",elevation:"0",id:"sell-modal"}},[j(l.c,[j("span",{staticClass:"fw--200 fs--9"},[P._v("⚡ Update "+P._s(null!==(e=null===(t=P.nft)||void 0===t?void 0:t.name)&&void 0!==e?e:""))]),P._v(" "),j(o.a,{staticStyle:{position:"absolute",top:"10px",right:"0px"},attrs:{icon:""}},[j(h.a,{staticClass:"mr-1",on:{click:function(e){P.dialog=!1}}},[P._v("mdi-close-circle-outline")])],1)],1),P._v(" "),j(v.a),P._v(" "),j(f.a,{attrs:{fluid:""}},[[j(f.a,{attrs:{fluid:""}},[j(k.a,{attrs:{justify:"center"}},[j(n.a,{attrs:{tile:"",size:"175"}},[j("ImageSlot",{attrs:{image:null===(r=P.nft)||void 0===r?void 0:r.image,collectionAddress:null===(y=P.nft)||void 0===y?void 0:y.contract,tokenId:null===(x=P.nft)||void 0===x||null===(_=x.tokenId)||void 0===_?void 0:_.toString(),imageClass:"rounded-sm effect-button"}})],1)],1),P._v(" "),j(k.a,{attrs:{justify:"center"}},[j(d.a,{attrs:{cols:"12"}},[j(k.a,{staticClass:"mt-5",attrs:{justify:"center"}},[P._v("\n                Service Fee "),j(w.a),P._v("\n                "+P._s(P.serviceFeeLoading?"Loading":P.serviceFee+"%")+"\n              ")],1),P._v(" "),j(k.a,{staticClass:"mt-5",attrs:{justify:"center"}},[P._v("\n                Royalty Fee "),j(w.a),P._v("\n                "+P._s(P.royaltyFeeLoading?"Loading":P.royaltyFee+"%")+"\n              ")],1),P._v(" "),j(k.a,{attrs:{justify:"center"}},[j("span",{staticClass:"fw--200 fs--9 mt-3"},[P._v("\n                  Collection floor price is currently at\n                  "+P._s(P.getFormattedPrice(P.floorPrice))+"\n                  "+P._s(P.tokenName)+"\n                ")]),P._v(" "),j(d.a,{attrs:{cols:"12"}},[j(I.a,{attrs:{label:"New price",outlined:"",type:"number",id:"numberInput",min:"1"},on:{wheel:[function(e){return e.stopPropagation(),function(){}.apply(null,arguments)},function(e){return e.preventDefault(),function(){}.apply(null,arguments)}]},model:{value:P.newPrice,callback:function(e){P.newPrice=e},expression:"newPrice"}})],1),P._v(" "),P.priceWithMoreThan2Decimals?[""!==P.newPrice?[j("span",{staticClass:"fw--200 fs--8",staticStyle:{"margin-top":"-30px"}},[P._v("\n                      Price will be rounded to "+P._s(P.roundedPrice))])]:P._e()]:P._e()],2)],1)],1)],1),P._v(" "),j(v.a),P._v(" "),j(l.a,[j(f.a,{attrs:{fluid:""}},[j(k.a,{class:P.displayDollarValues&&P.dollarValue>0?"mt-1":"mt-1 mb-1",attrs:{justify:"end"}},[j("span",{staticClass:"fw--200 fs--9"},[P._v("After sale you will get ")]),P._v(" "),j("span",{staticClass:"fw--200 fs--9"},[P._v(P._s(P.priceAfterFees)+" "+P._s(P.tokenName))])]),P._v(" "),P.displayDollarValues&&P.croPrice>0&&P.priceAfterFees>0?j(k.a,{staticClass:"mb-1",attrs:{justify:"end"}},[P._v("\n              "+P._s(P.dollarValue)+"\n              $")]):P._e(),P._v(" "),j(k.a,[j(w.a),P._v(" "),j(o.a,{staticClass:"effect-button mr-3",on:{click:function(e){return P.resetData()}}},[P._v("\n                Cancel\n              ")]),P._v(" "),j(o.a,{staticClass:"effect-button",attrs:{color:P.isDark?"#23f7dd":"#00a99d",loading:P.isUpdateItemLoading,disabled:P.royaltyFeeLoading||P.serviceFeeLoading||P.isUpdateDisabled},on:{click:function(e){return P.updateItem()}}},[P._v("Update Item")])],1)],1)],1)]],2)],1)],1)}),[],!1,null,null,null);t.default=component.exports;installComponents(component,{ImageSlot:r(1191).default})}}]);